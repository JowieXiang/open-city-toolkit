<!DOCTYPE html>
<html>
<head>
    <title>Bubaneshwar slums</title>

    <meta charset="UTF-8">

    <script src="../../lib/leaflet/leaflet.js"></script>
    <script src="../../lib/leaflet/leaflet.draw.js"></script>

    <link rel="stylesheet" href="../../lib/leaflet/leaflet.css" />
    <link rel="stylesheet" href="../../lib/leaflet/addons/leaflet_draw/src/leaflet.draw.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../lib/leaflet/images/favicon.ico" />
    
    <style>
        html,
        body {
            height: 100%;
            margin: 2px;
        }

    #map {
        position: fixed;
        border: 2px solid darkgreen;
        background-color: #fffdfb;
        width: 85%;
        height: 99%;
        top: 3px;
        left: 3px;
    }

    #info {
        position:fixed;
        border: 2px solid darkgreen;
        background-color: #fffdfb;
        width: 14%;
        height: 99%;
        top: 3px;
        right:3px;
        font-size:small;
    }
    
    #close {
        position: absolute;
        top: 400px;
        left: 20px;
        z-index: 10000;
    }
    
    .button1 {
        padding: 16px 24px;
        font-size: 24px;
        text-align: center;
        cursor: pointer;
        outline: none;
        color: #006600;
        background-color: #aaffaa;
        border: 3px solid #006600;
        border-radius: 6px;
    }

    .button1:hover {
        background-color: #ddffdd
    }

    .button1:active {
        background-color: #ffffdd;
        box-shadow: 0 2px #886;
        transform: translateY(2px);
    }
    
    </style>
</head>

<body>
    
    <a href='#' id='close'> <button class="button1" onclick="window.close();">Exit</button> </a>

    <div id='info'>
        <br>
        <br>
        <center>
        <h2>Estimated time in minutes (from-to ranges):</h2>
        <table style="border-spacing: 0px; display:inline;">
            <tr>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #fffdfb"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #007722"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #33ee00"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #aaee00"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #eeee00"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ff9900"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ef2200"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #880000"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #fffdfb"></td>
            </tr>
             <tr>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #fffdfb"></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>0</b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>5</b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>10</b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>15</b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>20</b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>30</b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #ffffff"><b>45- </b></td>
                <td style="height: 27px; width: 27px; border: #fff solid 1px; background-color: #fffdfb"></td>
            </tr>
        </table>
        </center>
        <h2>&nbsp Average speed:</h2>
        <object data="/home/titusz/cityapp/scripts/shared/variables/roads_speed" width=100% height="100%" font-size:small ></object>
    </div>
    
    <div id='map'></div>

    <script>

        item_rater_1 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/raster/wms/", {
            layers: 'raster:your_raster_layer',
            format: 'image/png',
            transparent: false,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });

        item_1 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });

        item_2 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });
        
        item_3 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });

        item_4 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });
        
        item_5 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/raster/wms/", {
            layers: 'raster:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });
        
        item_6 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 1,
        });

        item_7 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 3,
        });
        
        item_8 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 3,
        });
        
        item_9 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 3,
        });
        
        item_10 = L.tileLayer.wms("http://127.1.1.1:8080/geoserver/vector/wms/", {
            layers: 'vector:your_layer',
            format: 'image/png',
            transparent: true,
            attribution: "<a href='https://www.hcu-hamburg.de/research/citysciencelab/?L=1' target=new>HCU CSL</a>",
            maxZoom: 20,
            minZoom: 3,
        });

/* Marker line, keep this in line 216 */
var map = new L.Map('map', {center: new L.LatLng(20.295074, 85.812836), zoom: 12 }),drawnItems = L.featureGroup().addTo(map);        
/* Marker line, keep this in line 218 */

        L.control.layers({
        },
            {
                "Dem": item_rater_1,
                "Surface Water": item_1,
                "Water areas": item_2,
                "Roads": item_3,
                "Buildings": item_4,
                "Current selection": item_5,
                "Time map": item_6,
                "From-points":item_7,
                "Via-points":item_8,
                "To-points":item_9,
                "Unavailable areas":item_10,
                /* Do not modify the next line. If you need more items,
                then insert as many as you need before this line. */
                "Drawing": drawnItems
            },
            { position: 'topright', collapsed: false }).addTo(map);

        map.addControl(new L.Control.Draw
            ({
                edit: {
                    featureGroup: drawnItems,
                    poly: { allowIntersection: false }
                },
                draw: {
                    polygon: {
                        allowIntersection: false,
                        showArea: true,
                        fill: '#FFFFFF',
                    },
                    polyline: false,
                    polygon: true,
                    rectangle: false,
                    circle: false,
                    marker: false,
                    circlemarker: true,
                }
            }));

        map.on(L.Draw.Event.CREATED, function (event) {
            var layer = event.layer;
            drawnItems.addLayer(layer);
        });

        /* Scale bar*/
        L.control.scale({ maxWidth: 300 }).addTo(map);

        /* North arrow */
        var north = L.control({ position: "bottomright" });
        north.onAdd = function (map) {

            var div = L.DomUtil.create("div", "info legend");
            div.innerHTML = '<img src="/home/titusz/cityapp/html/north.png">';
            return div;
        }; north.addTo(map);

    </script>
</body>

</html>
